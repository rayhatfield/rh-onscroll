{"version":3,"file":"index.iife.js","sources":["../src/index.js"],"sourcesContent":["const clamp = (value, min = 0, max = 1) => Math.min(Math.max(value, min), max);\n\nconst listeners = [];\n\nfunction onScroll (e) {\n\tlisteners.forEach(fire)\n}\n\nfunction fire ({selector, callback, elements}) {\n\telements.forEach((element) => callback(element, clamp(scrollPercentage(element))));\n}\n\nfunction scrollPercentage(elem) {\n\treturn (window.innerHeight - elem.getBoundingClientRect().top) / elem.scrollHeight;\n}\n\nexport default function register (selector, callback) {\n\tconst elements = document.querySelectorAll(selector);\n\tif(elements.length > 0) {\n\t\tlisteners.push({\n\t\t\tselector,\n\t\t\tcallback,\n\t\t\telements\n\t\t});\n\t\twindow.removeEventListener('scroll', onScroll);\n\t\twindow.addEventListener('scroll', onScroll);\n\t}\n}\n"],"names":["clamp","value","min","max","Math","listeners","onScroll","e","forEach","fire","selector","callback","elements","element","scrollPercentage","elem","window","innerHeight","getBoundingClientRect","top","scrollHeight","register","document","querySelectorAll","length","push","removeEventListener","addEventListener"],"mappings":";;;;;;;;;;AAAA,IAAMA,QAAQ,SAARA,KAAQ,CAACC,KAAD;KAAQC,GAAR,uEAAc,CAAd;KAAiBC,GAAjB,uEAAuB,CAAvB;QAA6BC,KAAKF,GAAL,CAASE,KAAKD,GAAL,CAASF,KAAT,EAAgBC,GAAhB,CAAT,EAA+BC,GAA/B,CAA7B;CAAd;;AAEA,IAAME,YAAY,EAAlB;;AAEA,SAASC,QAAT,CAAmBC,CAAnB,EAAsB;WACXC,OAAV,CAAkBC,IAAlB;;;AAGD,SAASA,IAAT,OAA+C;KAA/BC,QAA+B,QAA/BA,QAA+B;KAArBC,QAAqB,QAArBA,QAAqB;KAAXC,QAAW,QAAXA,QAAW;;UACrCJ,OAAT,CAAiB,UAACK,OAAD;SAAaF,SAASE,OAAT,EAAkBb,MAAMc,iBAAiBD,OAAjB,CAAN,CAAlB,CAAb;EAAjB;;;AAGD,SAASC,gBAAT,CAA0BC,IAA1B,EAAgC;QACxB,CAACC,OAAOC,WAAP,GAAqBF,KAAKG,qBAAL,GAA6BC,GAAnD,IAA0DJ,KAAKK,YAAtE;;;AAGD,AAAe,SAASC,QAAT,CAAmBX,QAAnB,EAA6BC,QAA7B,EAAuC;KAC/CC,WAAWU,SAASC,gBAAT,CAA0Bb,QAA1B,CAAjB;KACGE,SAASY,MAAT,GAAkB,CAArB,EAAwB;YACbC,IAAV,CAAe;qBAAA;qBAAA;;GAAf;SAKOC,mBAAP,CAA2B,QAA3B,EAAqCpB,QAArC;SACOqB,gBAAP,CAAwB,QAAxB,EAAkCrB,QAAlC;;;;;;"}